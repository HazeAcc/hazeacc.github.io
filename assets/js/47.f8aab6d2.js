(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{251:function(t,a,s){"use strict";s.r(a);var e=s(1),r=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"javascript-map-与-set-类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javascript-map-与-set-类型","aria-hidden":"true"}},[t._v("#")]),t._v(" JavaScript | Map 与 Set 类型 ")]),t._v(" "),s("p",[t._v("介绍 ES6 新出现的 Map 类型与 Set 类型的特性与方法。")]),t._v(" "),s("h2",{attrs:{id:"目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 目录 ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#map"}},[t._v("Map")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95"}},[t._v("主要方法")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%88%9B%E5%BB%BAmap"}},[t._v("创建Map")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#set"}},[t._v("Set")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95-1"}},[t._v("主要方法")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#weakmap-%E5%92%8C-weakset"}},[t._v("WeakMap 和 WeakSet")])])]),t._v(" "),s("br"),t._v(" "),s("hr"),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"map"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#map","aria-hidden":"true"}},[t._v("#")]),t._v(" Map")]),t._v(" "),s("p",[s("code",[t._v("Map")]),t._v(" 是一个键值对的集合，与 "),s("code",[t._v("Object")]),t._v(" 的主要的区别是："),s("code",[t._v("Map")]),t._v(" 允许所有数据类型作为键，包括对象。")]),t._v(" "),s("h3",{attrs:{id:"主要方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 主要方法")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("方法")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("new Map()")]),t._v(" "),s("td",[t._v("创建 map")])]),t._v(" "),s("tr",[s("td",[t._v("map.set(key, value)")]),t._v(" "),s("td",[t._v("根据键（key）存储值（value）。支持链式调用")])]),t._v(" "),s("tr",[s("td",[t._v("map.get(key)")]),t._v(" "),s("td",[t._v("根据键返回值。若该键不存在，返回 undefined")])]),t._v(" "),s("tr",[s("td",[t._v("map.has(key)")]),t._v(" "),s("td",[t._v("若键存在，返回 true，否则返回 false")])]),t._v(" "),s("tr",[s("td",[t._v("map.delete(key)")]),t._v(" "),s("td",[t._v("移除该键的值")])]),t._v(" "),s("tr",[s("td",[t._v("map.clear()")]),t._v(" "),s("td",[t._v("清空 map")])]),t._v(" "),s("tr",[s("td",[t._v("map.size")]),t._v(" "),s("td",[t._v("返回当前元素个数")])])])]),t._v(" "),s("h3",{attrs:{id:"创建map"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建map","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建Map")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [key, value] 键值对数组")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" map "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'str1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'num1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bool1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("code",[t._v("Object.entries(obj)")]),t._v("可以返回对象的键值对数组，利用它可以实现Object到Map的转换。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" object "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Haze"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" map "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("entries")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("br"),t._v(" "),s("h2",{attrs:{id:"set"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set","aria-hidden":"true"}},[t._v("#")]),t._v(" Set")]),t._v(" "),s("p",[t._v("Set 是一个值的集合，这个集合中所有的值仅出现一次。")]),t._v(" "),s("h3",{attrs:{id:"主要方法-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要方法-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 主要方法")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("方法")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("new Set(iterable)")]),t._v(" "),s("td",[t._v("创建 set，可以利用可迭代对象（如数组）来创建")])]),t._v(" "),s("tr",[s("td",[t._v("set.add(value)")]),t._v(" "),s("td",[t._v("添加值，返回 set 自身")])]),t._v(" "),s("tr",[s("td",[t._v("set.delete(value)")]),t._v(" "),s("td",[t._v("删除值，若该 value 存在则返回 true ，否则返回 false")])]),t._v(" "),s("tr",[s("td",[t._v("set.has(value)")]),t._v(" "),s("td",[t._v("如果 set 中存在该值则返回 true ，否则返回 false")])]),t._v(" "),s("tr",[s("td",[t._v("set.clear()")]),t._v(" "),s("td",[t._v("清空 set")])]),t._v(" "),s("tr",[s("td",[t._v("set.size")]),t._v(" "),s("td",[t._v("返回当前元素个数")])])])]),t._v(" "),s("br"),t._v(" "),s("h2",{attrs:{id:"weakmap-和-weakset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#weakmap-和-weakset","aria-hidden":"true"}},[t._v("#")]),t._v(" WeakMap 和 WeakSet")]),t._v(" "),s("p",[t._v("WeakMap 和 WeakSet 是 Map 与 Set 的变体。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("WeakMap 仅允许对象作为键，并且当对象由于其他原因不可引用的时候将其删除。")])]),t._v(" "),s("li",[s("p",[t._v("WeakMap 没有 size 属性，没有 clear() 方法，没有迭代器，无法使用keys()、values()等方法。")])]),t._v(" "),s("li",[s("p",[t._v("WeakSet 仅存储对象，并且当对象由于其他原因不可引用的时候将其删除。")])]),t._v(" "),s("li",[s("p",[t._v("同样不支持 size/clear() 和迭代器，无法使用keys()。")])])]),t._v(" "),s("p",[t._v("WeakMap 和 WeakSet 被用作主要对象存储的次要数据结构补充。一旦对象从存储移除，那么存在于 WeakMap/WeakSet 的数据将会被自动清除。")]),t._v(" "),s("p",[t._v("我们可以用在当我们释放对象的时候，同时就能把对应存储在Set/Map里的内存一并释放，而无需手动删除。")])])},[],!1,null,null,null);a.default=r.exports}}]);