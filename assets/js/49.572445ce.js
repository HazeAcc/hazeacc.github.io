(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{253:function(t,s,a){"use strict";a.r(s);var n=a(1),r=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"javascript-symbol-类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript-symbol-类型","aria-hidden":"true"}},[t._v("#")]),t._v(" JavaScript | Symbol 类型")]),t._v(" "),a("p",[t._v("个人感觉平时很少在实际项目中见到 Symbol 类型，但如果想深入学习原理，Symbol 类型的理解必不可少。")]),t._v(" "),a("h2",{attrs:{id:"目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 目录 ")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#symbol-%E7%B1%BB%E5%9E%8B"}},[t._v("Symbol 类型")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%85%A8%E5%B1%80-symbol"}},[t._v("全局 Symbol")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%8F%8D%E5%90%91%E8%B0%83%E7%94%A8"}},[t._v("反向调用")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E7%B3%BB%E7%BB%9F-symbol"}},[t._v("系统 Symbol")])])])])]),t._v(" "),a("br"),t._v(" "),a("hr"),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"symbol-类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#symbol-类型","aria-hidden":"true"}},[t._v("#")]),t._v(" Symbol 类型")]),t._v(" "),a("p",[t._v("“Symbol”值是一种表示唯一的标识符，用于创建对象的“隐藏”属性，防止他人编写代码引用自己的脚本时产生无意的冲突，导致访问或者重写这些属性。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// id是Symbol的一个实例化对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" id1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Symobol()内可以添加对对象的描述")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" id2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 与id1一样，描述都为”id“")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" id2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])])]),a("p",[t._v("如果想要打印描述，不能直接使用变量名，而需要显式调用"),a("code",[t._v("toString()")]),t._v("方法。")]),t._v(" "),a("p",[t._v("想要在object字面量中使用Symbol，需要使用方括号。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ID"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Symbol 在 for...in 中会被跳过，在 Object.assgin 中会被复制。")]),t._v(" "),a("p",[a("em",[t._v("Symbol 不是完全隐藏的，有内置方法可以获取。")])]),t._v(" "),a("h3",{attrs:{id:"全局-symbol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局-symbol","aria-hidden":"true"}},[t._v("#")]),t._v(" 全局 Symbol")]),t._v(" "),a("p",[t._v("JavaScript ES6 提出的 Symbol 存在一个全局 symbol 注册表。使用 "),a("code",[t._v("Symbol.for(key)")]),t._v(" 可以在注册表中创建或读取 Symbol。")]),t._v(" "),a("p",[t._v("该调用会检查全局注册表，如果有一个描述为 "),a("code",[t._v("key")]),t._v(" 的 Symbol，则返回该 Symbol，否则将创建一个新 Symbol（"),a("code",[t._v("Symbol(key)")]),t._v("），并通过给定的 "),a("code",[t._v("key")]),t._v(" 将其存储在注册表中。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Symbol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如该 Symbol 不存在，则创建它")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" idAgain "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Symbol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 再次读取")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" idAgain "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 两者相同")]),t._v("\n")])])]),a("h4",{attrs:{id:"反向调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#反向调用","aria-hidden":"true"}},[t._v("#")]),t._v(" 反向调用")]),t._v(" "),a("p",[a("code",[t._v("Symbol.for(key)")]),t._v("使用名称返回一个symbol变量。\n"),a("code",[t._v("Symbol.keyFor(sym)")]),t._v("使用symbol变量返回一个名称。")]),t._v(" "),a("h3",{attrs:{id:"系统-symbol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统-symbol","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统 Symbol")]),t._v(" "),a("p",[t._v("JavaScript 内部还留有一些系统Symbol，我们可以使用它们来微调对象的各个方面。")]),t._v(" "),a("p",[t._v("// 暂略")]),t._v(" "),a("br")])},[],!1,null,null,null);s.default=r.exports}}]);