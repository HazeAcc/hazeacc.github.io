<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git 常见指令 | 山风笔记集</title>
    <meta name="description" content="记录并分享个人所整理的学习知识的笔记与教程">
    <link rel="icon" href="/imgs/favicon.ico">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-158846445-2"></script>
  <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'UA-158846445-2');
        </script>
    
    <link rel="preload" href="/assets/css/0.styles.c0e52d69.css" as="style"><link rel="preload" href="/assets/js/app.8447d795.js" as="script"><link rel="preload" href="/assets/js/2.bd61a9fd.js" as="script"><link rel="preload" href="/assets/js/81.c8c4cc78.js" as="script"><link rel="prefetch" href="/assets/js/10.c23beeee.js"><link rel="prefetch" href="/assets/js/11.a5f8f4b5.js"><link rel="prefetch" href="/assets/js/12.3d44f3b2.js"><link rel="prefetch" href="/assets/js/13.85e66995.js"><link rel="prefetch" href="/assets/js/14.c61deefc.js"><link rel="prefetch" href="/assets/js/15.d567712f.js"><link rel="prefetch" href="/assets/js/16.0bf83400.js"><link rel="prefetch" href="/assets/js/17.39f15163.js"><link rel="prefetch" href="/assets/js/18.e190cbd6.js"><link rel="prefetch" href="/assets/js/19.b00f5399.js"><link rel="prefetch" href="/assets/js/20.24139e2e.js"><link rel="prefetch" href="/assets/js/21.f057fb05.js"><link rel="prefetch" href="/assets/js/22.91c23498.js"><link rel="prefetch" href="/assets/js/23.7e4349d1.js"><link rel="prefetch" href="/assets/js/24.d6b5644e.js"><link rel="prefetch" href="/assets/js/25.652a598d.js"><link rel="prefetch" href="/assets/js/26.239a6015.js"><link rel="prefetch" href="/assets/js/27.264e242d.js"><link rel="prefetch" href="/assets/js/28.b8a526cb.js"><link rel="prefetch" href="/assets/js/29.015f761b.js"><link rel="prefetch" href="/assets/js/3.1fc8e7ad.js"><link rel="prefetch" href="/assets/js/30.0cec9f87.js"><link rel="prefetch" href="/assets/js/31.d44d1dfd.js"><link rel="prefetch" href="/assets/js/32.01db05fd.js"><link rel="prefetch" href="/assets/js/33.b6466c13.js"><link rel="prefetch" href="/assets/js/34.bfcf59c7.js"><link rel="prefetch" href="/assets/js/35.383304c9.js"><link rel="prefetch" href="/assets/js/36.1e6e18c6.js"><link rel="prefetch" href="/assets/js/37.14bf4a83.js"><link rel="prefetch" href="/assets/js/38.5e53f1ea.js"><link rel="prefetch" href="/assets/js/39.5bb4ec98.js"><link rel="prefetch" href="/assets/js/4.7a8bea82.js"><link rel="prefetch" href="/assets/js/40.6c608590.js"><link rel="prefetch" href="/assets/js/41.23bd194f.js"><link rel="prefetch" href="/assets/js/42.d5004363.js"><link rel="prefetch" href="/assets/js/43.0ce9fa33.js"><link rel="prefetch" href="/assets/js/44.3fe716fe.js"><link rel="prefetch" href="/assets/js/45.32c5871d.js"><link rel="prefetch" href="/assets/js/46.b6783264.js"><link rel="prefetch" href="/assets/js/47.f8aab6d2.js"><link rel="prefetch" href="/assets/js/48.1f037f95.js"><link rel="prefetch" href="/assets/js/49.572445ce.js"><link rel="prefetch" href="/assets/js/5.9397a36a.js"><link rel="prefetch" href="/assets/js/50.7180282b.js"><link rel="prefetch" href="/assets/js/51.5e501b8b.js"><link rel="prefetch" href="/assets/js/52.f9837e49.js"><link rel="prefetch" href="/assets/js/53.d3df370a.js"><link rel="prefetch" href="/assets/js/54.6f904856.js"><link rel="prefetch" href="/assets/js/55.fc396f14.js"><link rel="prefetch" href="/assets/js/56.48304ea5.js"><link rel="prefetch" href="/assets/js/57.923bb766.js"><link rel="prefetch" href="/assets/js/58.5987358c.js"><link rel="prefetch" href="/assets/js/59.5c2eeb34.js"><link rel="prefetch" href="/assets/js/6.2f1db989.js"><link rel="prefetch" href="/assets/js/60.4ec959b6.js"><link rel="prefetch" href="/assets/js/61.52d60d03.js"><link rel="prefetch" href="/assets/js/62.f341f0fc.js"><link rel="prefetch" href="/assets/js/63.291774ef.js"><link rel="prefetch" href="/assets/js/64.3da1e937.js"><link rel="prefetch" href="/assets/js/65.44f41773.js"><link rel="prefetch" href="/assets/js/66.aea611c0.js"><link rel="prefetch" href="/assets/js/67.9432b5c4.js"><link rel="prefetch" href="/assets/js/68.f8b420bc.js"><link rel="prefetch" href="/assets/js/69.bd196935.js"><link rel="prefetch" href="/assets/js/7.d3342e12.js"><link rel="prefetch" href="/assets/js/70.5f94436d.js"><link rel="prefetch" href="/assets/js/71.f8d75019.js"><link rel="prefetch" href="/assets/js/72.22a2029f.js"><link rel="prefetch" href="/assets/js/73.b5675a90.js"><link rel="prefetch" href="/assets/js/74.b9910b21.js"><link rel="prefetch" href="/assets/js/75.5aa44913.js"><link rel="prefetch" href="/assets/js/76.db5e59d0.js"><link rel="prefetch" href="/assets/js/77.e4edf460.js"><link rel="prefetch" href="/assets/js/78.adaa1ebd.js"><link rel="prefetch" href="/assets/js/79.c98afd34.js"><link rel="prefetch" href="/assets/js/8.f122493c.js"><link rel="prefetch" href="/assets/js/80.dae99de7.js"><link rel="prefetch" href="/assets/js/82.b8f7657a.js"><link rel="prefetch" href="/assets/js/83.708b497a.js"><link rel="prefetch" href="/assets/js/84.e5cf0bec.js"><link rel="prefetch" href="/assets/js/85.677ae3f9.js"><link rel="prefetch" href="/assets/js/86.b7a99301.js"><link rel="prefetch" href="/assets/js/87.4b8fd909.js"><link rel="prefetch" href="/assets/js/9.095bc7b5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c0e52d69.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">山风笔记集</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/" class="nav-link router-link-active">笔记导航</a></li><li class="dropdown-item"><!----> <a href="/notes/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/notes/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/notes/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/notes/network/" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/notes/algorithm/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/notes/tools/" class="nav-link router-link-active">工具</a></li></ul></div></div><div class="nav-item"><a href="/pages/recent.html" class="nav-link">最近</a></div><div class="nav-item"><a href="/pages/msg-board.html" class="nav-link">留言</a></div><div class="nav-item"><a href="/pages/about.html" class="nav-link">关于</a></div><div class="nav-item"><a href="https://www.ceynri.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.github.com/ceynri" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/" class="nav-link router-link-active">笔记导航</a></li><li class="dropdown-item"><!----> <a href="/notes/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/notes/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/notes/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/notes/network/" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/notes/algorithm/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/notes/tools/" class="nav-link router-link-active">工具</a></li></ul></div></div><div class="nav-item"><a href="/pages/recent.html" class="nav-link">最近</a></div><div class="nav-item"><a href="/pages/msg-board.html" class="nav-link">留言</a></div><div class="nav-item"><a href="/pages/about.html" class="nav-link">关于</a></div><div class="nav-item"><a href="https://www.ceynri.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.github.com/ceynri" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/notes/tools/git/git-command.html" class="active sidebar-link">Git 常见指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#索引" class="sidebar-link">索引</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#常用操作" class="sidebar-link">常用操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#添加文件" class="sidebar-link">添加文件</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#提交文件" class="sidebar-link">提交文件</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#查看暂存状态" class="sidebar-link">查看暂存状态</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#修改操作" class="sidebar-link">修改操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#修改最后一次提交" class="sidebar-link">修改最后一次提交</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#修改-commit-时间" class="sidebar-link">修改 commit 时间</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#撤销操作" class="sidebar-link">撤销操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#取消暂存的文件" class="sidebar-link">取消暂存的文件</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#删除暂存的文件" class="sidebar-link">删除暂存的文件</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#取消修改-退回文件版本" class="sidebar-link">取消修改/退回文件版本</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#删除某文件的全部提交记录" class="sidebar-link">删除某文件的全部提交记录</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#远程仓库" class="sidebar-link">远程仓库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#添加远程仓库" class="sidebar-link">添加远程仓库</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#发送至远程仓库" class="sidebar-link">发送至远程仓库</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#克隆其他仓库" class="sidebar-link">克隆其他仓库</a></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#从远程仓库更新本地" class="sidebar-link">从远程仓库更新本地</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#冷门指令" class="sidebar-link">冷门指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/tools/git/git-command.html#修改远程库地址" class="sidebar-link">修改远程库地址</a></li></ul></li></ul></li><li><a href="/notes/tools/git/upload2github.html" class="sidebar-link">上传至 Github</a></li><li><a href="/notes/tools/git/commit-standard.html" class="sidebar-link">Git commit 规范</a></li><li><a href="/notes/tools/git/abbr.html" class="sidebar-link">Git 团队协作常用缩写</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git-常见指令"><a href="#git-常见指令" aria-hidden="true" class="header-anchor">#</a> Git 常见指令 </h1> <p>注：本文中带尖括号（<code>&lt;</code>、<code>&gt;</code>）的标签是需要被替换为对应文本的标记。</p> <h2 id="索引"><a href="#索引" aria-hidden="true" class="header-anchor">#</a> 索引 </h2> <ul><li><a href="#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C">常用操作</a> <ul><li><a href="#%E6%B7%BB%E5%8A%A0%E6%96%87%E4%BB%B6">添加文件</a></li> <li><a href="#%E6%8F%90%E4%BA%A4%E6%96%87%E4%BB%B6">提交文件</a></li> <li><a href="#%E6%9F%A5%E7%9C%8B%E6%9A%82%E5%AD%98%E7%8A%B6%E6%80%81">查看暂存状态</a></li></ul></li> <li><a href="#%E4%BF%AE%E6%94%B9%E6%93%8D%E4%BD%9C">修改操作</a> <ul><li><a href="#%E4%BF%AE%E6%94%B9%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E6%8F%90%E4%BA%A4">修改最后一次提交</a></li> <li><a href="#%E4%BF%AE%E6%94%B9-commit-%E6%97%B6%E9%97%B4">修改 commit 时间</a></li></ul></li> <li><a href="#%E6%92%A4%E9%94%80%E6%93%8D%E4%BD%9C">撤销操作</a> <ul><li><a href="#%E5%8F%96%E6%B6%88%E6%9A%82%E5%AD%98%E7%9A%84%E6%96%87%E4%BB%B6">取消暂存的文件</a></li> <li><a href="#%E5%88%A0%E9%99%A4%E6%9A%82%E5%AD%98%E7%9A%84%E6%96%87%E4%BB%B6">删除暂存的文件</a></li> <li><a href="#%E5%8F%96%E6%B6%88%E4%BF%AE%E6%94%B9%E9%80%80%E5%9B%9E%E6%96%87%E4%BB%B6%E7%89%88%E6%9C%AC">取消修改/退回文件版本</a></li> <li><a href="#%E5%88%A0%E9%99%A4%E6%9F%90%E6%96%87%E4%BB%B6%E7%9A%84%E5%85%A8%E9%83%A8%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95">删除某文件的全部提交记录</a></li></ul></li> <li><a href="#%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">远程仓库</a> <ul><li><a href="#%E6%B7%BB%E5%8A%A0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">添加远程仓库</a></li> <li><a href="#%E5%8F%91%E9%80%81%E8%87%B3%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">发送至远程仓库</a></li> <li><a href="#%E5%85%8B%E9%9A%86%E5%85%B6%E4%BB%96%E4%BB%93%E5%BA%93">克隆其他仓库</a></li> <li><a href="#%E4%BB%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%9B%B4%E6%96%B0%E6%9C%AC%E5%9C%B0">从远程仓库更新本地</a></li></ul></li> <li><a href="#%E5%86%B7%E9%97%A8%E6%8C%87%E4%BB%A4">冷门指令</a> <ul><li><a href="#%E4%BF%AE%E6%94%B9%E8%BF%9C%E7%A8%8B%E5%BA%93%E5%9C%B0%E5%9D%80">修改远程库地址</a></li></ul></li></ul> <br> <hr> <br> <h2 id="常用操作"><a href="#常用操作" aria-hidden="true" class="header-anchor">#</a> 常用操作</h2> <h3 id="添加文件"><a href="#添加文件" aria-hidden="true" class="header-anchor">#</a> 添加文件</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
</code></pre></div><p>以下参数可以一次性添加所有文件：</p> <table><thead><tr><th>参数/符号</th> <th>全称</th> <th>区别</th></tr></thead> <tbody><tr><td><code>.</code></td> <td>即工作区的状态树</td> <td>包括文件内容修改、新文件，不包括被删除文件</td></tr> <tr><td><code>*</code></td> <td>通配符</td> <td>会忽视.gitignore 把所有文件加入（其他的不会）</td></tr> <tr><td><code>-u</code></td> <td><code>--update</code></td> <td>仅监控已经被 add 的文件，不会提交新文件</td></tr> <tr><td><code>-A</code></td> <td><code>--all</code></td> <td>既包含删除文件，也会提交新文件</td></tr></tbody></table> <br> <h3 id="提交文件"><a href="#提交文件" aria-hidden="true" class="header-anchor">#</a> 提交文件</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> commit -m <span class="token operator">&lt;</span>message<span class="token operator">&gt;</span>
</code></pre></div><br> <h3 id="查看暂存状态"><a href="#查看暂存状态" aria-hidden="true" class="header-anchor">#</a> 查看暂存状态</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> status
</code></pre></div><br> <h2 id="修改操作"><a href="#修改操作" aria-hidden="true" class="header-anchor">#</a> 修改操作</h2> <h3 id="修改最后一次提交"><a href="#修改最后一次提交" aria-hidden="true" class="header-anchor">#</a> 修改最后一次提交</h3> <p>例子：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> commit -m <span class="token string">'initial commit'</span>
<span class="token function">git</span> <span class="token function">add</span> forgotten_file
<span class="token function">git</span> commit --amend -m <span class="token string">'initial commit'</span>
</code></pre></div><p>该情况下，最终只会产生一个提交，第二个提交命令修正了第一个的提交内容。</p> <br> <h3 id="修改-commit-时间"><a href="#修改-commit-时间" aria-hidden="true" class="header-anchor">#</a> 修改 commit 时间</h3> <p>在 commit 的时候添加参数<code>--date=&quot;&lt;commit-time&gt;&quot;</code>即可，注意时间要按照格式输入。</p> <p>例子：修改上次提交（<code>--amend</code>）的 commit 的时间（<code>--date</code>）</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> commit --amend --date<span class="token operator">=</span><span class="token string">&quot;Sun, 25 Dec 2016 19:42:09 +0800&quot;</span>
</code></pre></div><br> <h2 id="撤销操作"><a href="#撤销操作" aria-hidden="true" class="header-anchor">#</a> 撤销操作</h2> <h3 id="取消暂存的文件"><a href="#取消暂存的文件" aria-hidden="true" class="header-anchor">#</a> 取消暂存的文件</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> reset HEAD <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
</code></pre></div><p><code>git status</code> 命令其实自带提醒如何取消：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
$ <span class="token function">git</span> status
On branch master
Changes to be committed:
    <span class="token punctuation">(</span>use <span class="token string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>

        modified:   README.txt
        modified:   benchmarks.rb
</code></pre></div><br> <h3 id="删除暂存的文件"><a href="#删除暂存的文件" aria-hidden="true" class="header-anchor">#</a> 删除暂存的文件</h3> <p>不删除物理文件，仅将该文件从缓存中删除：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">rm</span> -r --cached <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
</code></pre></div><p><code>-r</code> 参数：即 <code>--recursive</code>，递归删除目录及其内容（用于文件夹）</p> <br> <h3 id="取消修改-退回文件版本"><a href="#取消修改-退回文件版本" aria-hidden="true" class="header-anchor">#</a> 取消修改/退回文件版本</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> checkout -- <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
</code></pre></div><p>这同样在 <code>git status</code> 命令中有所提示：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> checkout -- benchmarks.rb
$ <span class="token function">git</span> status
On branch master
Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="token punctuation">)</span>

        modified:   README.txt
</code></pre></div><p>注意：此方法会覆盖你修改好的文件且无法找回，使用前需确保操作正确。建议使用 tashing 和分支来处理此问题。</p> <br> <h3 id="删除某文件的全部提交记录"><a href="#删除某文件的全部提交记录" aria-hidden="true" class="header-anchor">#</a> 删除某文件的全部提交记录</h3> <p>如果有一些隐私内容被提交进了 git 仓库，后续当要发布给其他人时想要删掉即可使用本命令。</p> <p>原理：对所有文件的 commit log 进行重写，然后排除掉想要删掉的某些文件。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> filter-branch -f --tree-filter <span class="token string">'rm -rf aaa/app.config'</span> HEAD
</code></pre></div><p>注意提前做好被删除文件的备份。</p> <p>如果需要 push 到远程仓库，需要：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> push origin --force
</code></pre></div><br> <h2 id="远程仓库"><a href="#远程仓库" aria-hidden="true" class="header-anchor">#</a> 远程仓库</h2> <h3 id="添加远程仓库"><a href="#添加远程仓库" aria-hidden="true" class="header-anchor">#</a> 添加远程仓库</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> remote <span class="token function">add</span> origin <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>
</code></pre></div><p>如果想修改远程仓库地址：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> remote set-url origin <span class="token operator">&lt;</span>new-url<span class="token operator">&gt;</span>
</code></pre></div><br> <h3 id="发送至远程仓库"><a href="#发送至远程仓库" aria-hidden="true" class="header-anchor">#</a> 发送至远程仓库</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> push
</code></pre></div><table><thead><tr><th>参数</th> <th>作用</th></tr></thead> <tbody><tr><td>-f / --force</td> <td>强制覆盖远程仓库</td></tr> <tr><td>-u</td> <td>选择当前为默认仓库分支</td></tr></tbody></table> <br> <h3 id="克隆其他仓库"><a href="#克隆其他仓库" aria-hidden="true" class="header-anchor">#</a> 克隆其他仓库</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span> <span class="token punctuation">[</span>renamed-name<span class="token punctuation">]</span>
</code></pre></div><br> <h3 id="从远程仓库更新本地"><a href="#从远程仓库更新本地" aria-hidden="true" class="header-anchor">#</a> 从远程仓库更新本地</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> pull <span class="token operator">&lt;</span>远程主机名<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>远程分支名<span class="token operator">&gt;</span><span class="token punctuation">[</span>:<span class="token operator">&lt;</span>本地分支名<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># 等价于</span>
<span class="token function">git</span> fetch <span class="token operator">&lt;</span>远程主机名<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>远程分支名<span class="token operator">&gt;</span><span class="token punctuation">[</span>:<span class="token operator">&lt;</span>本地分支名<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token function">git</span> merge FETCH_HEAD
</code></pre></div><br> <h2 id="冷门指令"><a href="#冷门指令" aria-hidden="true" class="header-anchor">#</a> 冷门指令</h2> <p>收一些我用了一次的指令</p> <h3 id="修改远程库地址"><a href="#修改远程库地址" aria-hidden="true" class="header-anchor">#</a> 修改远程库地址</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> remote set-url origin git@github.com:USERNAME/REPOSITORY.git
</code></pre></div><p>其中的 url 使用 HTTPS 或者 SSh 都可以。</p> <br></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2021-2-6 10:43:04 ├F10: AM┤</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/notes/tools/git/upload2github.html">
          上传至 Github
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8447d795.js" defer></script><script src="/assets/js/2.bd61a9fd.js" defer></script><script src="/assets/js/81.c8c4cc78.js" defer></script>
  </body>
</html>
